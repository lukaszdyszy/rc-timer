(this["webpackJsonprc-timer"]=this["webpackJsonprc-timer"]||[]).push([[0],[,,,,,,function(e,t,n){e.exports=n(18)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(4),o=n.n(c),l=(n(11),n(2)),s=n(1),u=(n(12),n(13),function(e){if("number"!=typeof e)return e;var t=Math.floor(e/6e4),n=Math.floor((e-6e4*t)/1e3),a=Math.floor((e-6e4*t-1e3*n)/10);return t<1?t="":t+=":",n<10&&(n="0"+n),a<10&&(a="0"+a),t+(n+=":")+a}),i="neutral",m=0,f=function(e){var t=Object(a.useState)(0),n=Object(s.a)(t,2),c=n[0],o=n[1];return r.a.createElement("div",{className:"timer-container"},r.a.createElement("input",{type:"text",id:"time",onKeyDown:function(t){32==t.keyCode&&("neutral"==i?(i="ready",o(0)):"running"==i&&(i="stopped",e.addTime(c)))},onKeyUp:function(e){32==e.keyCode&&("ready"==i?(m=Date.now(),i="running",function e(){"running"==i&&(o(Date.now()-m),setTimeout(e,10))}()):"stopped"==i&&(i="neutral"))}}),r.a.createElement("label",{htmlFor:"time",id:"time-label"},u(c)))},v=(n(14),n(5)),d=function(){return r.a.createElement("div",{className:"header-container"},r.a.createElement("div",{className:"menu"}),r.a.createElement("div",{className:"copyright"},r.a.createElement("span",{className:"copy"},"\xa9 \u0141ukasz Dyszy "),r.a.createElement("a",{className:"gh",target:"blank",href:"https://github.com/lukaszdyszy/rc-timer"},r.a.createElement(v.a,{size:28}))))},h=function(e,t,n,a){var r="",c={};t.map((function(e){c[e]=!1}));for(var o=function(e){var o=void 0;do{o=t[Math.floor(Math.random()*t.length)]}while(1==c[o]);"oneTime"!==n&&Object.keys(c).map((function(e){0==n?c[e]=!1:n[e].includes(o)||(c[e]=!1)}));c[o]=!0;var l=Math.floor(Math.random()*a.length);o+=a[l],r+=o+" "},l=0;l<e;l++)o();return r},p=function(e){switch(e){case"2x2x2":case"3x3x3":case"4x4x4":case"5x5x5":return function(e){var t,n,a;switch(e){case"2x2x2":case"3x3x3":n=25,"2x2x2"==e&&(n=9),t=["R","L","U","D","F","B"],a={R:["L"],L:["R"],U:["D"],D:["U"],F:["B"],B:["F"]};break;case"4x4x4":case"5x5x5":n=40,"5x5x5"==e&&(n=60),t=["R","L","U","D","F","B","Rw","Lw","Uw","Dw","Fw","Bw"],a={R:["L","Lw","Rw"],Rw:["L","Lw","R"],L:["R","Rw","Lw"],Lw:["R","Rw","L"],U:["D","Dw","Uw"],Uw:["D","Dw","U"],D:["U","Uw","Dw"],Dw:["U","Uw","D"],F:["B","Bw","Fw"],Fw:["B","Bw","F"],B:["F","Fw","Bw"],Bw:["F","Fw","B"]}}return h(n,t,a,["","'","2"])}(e);case"pyraminx":return function(){var e,t="";return e=Math.floor(5*Math.random()),t+=h(8,["R","L","U","B"],!1,["","'"]),t+=h(e,["r","l","u","b"],"oneTime",["","'"])}()}},b=(n(15),function(e){var t=Object(a.useState)(!0),n=Object(s.a)(t,2),c=n[0],o=n[1];return Object(a.useEffect)((function(){var t=Object(l.a)(e.solves);t.map((function(e){e.marked=c})),e.updateSolves(t)}),[c]),r.a.createElement("div",{className:"results-container"},r.a.createElement("table",{className:"results-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Lp ",r.a.createElement("input",{type:"checkbox",checked:c,onChange:function(){o(!c)}})),r.a.createElement("th",null,"scramble"),r.a.createElement("th",null,"time"),r.a.createElement("th",null,"+2"),r.a.createElement("th",null,"DNF"),r.a.createElement("th",null,"Result"))),r.a.createElement("tbody",null,function(){var t=Object(l.a)(e.solves);return t.reverse(),t}().map((function(t,n){return r.a.createElement("tr",{key:e.solves.length-n},r.a.createElement("td",null,e.solves.length-n,r.a.createElement("input",{type:"checkbox",checked:t.marked,onChange:function(){!function(t){var n=Object(l.a)(e.solves);n[t].marked=!n[t].marked,e.updateSolves(n)}(e.solves.length-n-1)}}),r.a.createElement("button",{onClick:function(){!function(t){var n=Object(l.a)(e.solves);n.splice(t,1),e.updateSolves(n)}(e.solves.length-n-1)}},"Drop")),r.a.createElement("td",null,t.scramble,r.a.createElement("button",{onClick:function(){!function(t){var n=Object(l.a)(e.solves),a=prompt("Enter solution: ",n[t].solution);null!=a&&(n[t].solution=a,e.updateSolves(n))}(e.solves.length-n-1)}},"add/edit solution"),r.a.createElement("br",null),function(t){if(e.solves[t].solution.length>0)return"solution: "+e.solves[t].solution}(e.solves.length-n-1)),r.a.createElement("td",null,u(t.time)),r.a.createElement("td",null,r.a.createElement("input",{type:"checkbox",checked:t.penalty,onChange:function(){!function(t){var n=Object(l.a)(e.solves);n[t].penalty=!n[t].penalty,e.updateSolves(n)}(e.solves.length-n-1)}})),r.a.createElement("td",null,r.a.createElement("input",{type:"checkbox",checked:t.dnf,onChange:function(){!function(t){var n=Object(l.a)(e.solves);n[t].dnf=!n[t].dnf,e.updateSolves(n)}(e.solves.length-n-1)}})),r.a.createElement("td",null,u(t.result())))})))))}),E=(n(16),function(e){if(e.length>=3){var t=0;do{-1!=e.indexOf("DNF")&&(t++,e.splice(e.indexOf("DNF"),1))}while(-1!=e.indexOf("DNF"));if(t>=2)return"DNF";e.sort((function(e,t){return e-t})),1==t&&e.push("dnf");for(var n=0,a=1;a<e.length-1;a++)n+=10*Math.floor(e[a]/10);return n/(e.length-2)}return 0}),w=function(e){if(e.length>=1){if(-1!=e.indexOf("DNF"))return"DNF";e.sort((function(e,t){return e-t}));for(var t=0,n=0;n<e.length;n++)t+=10*Math.floor(e[n]/10);return t/e.length}return 0},x=function(e){var t=function(t){if(e.solves.length>=t){var n=e.solves.map((function(e){return e.result()}));return n.splice(0,n.length-t),E(n)}return 0};return r.a.createElement("div",{className:"tools-container"},r.a.createElement("div",{className:"tool"},"Cube: ",r.a.createElement("select",{name:"",id:"",onChange:function(t){e.cube(t.target.value)},defaultValue:"3x3x3"},r.a.createElement("option",{value:"2x2x2"},"2x2x2"),r.a.createElement("option",{value:"3x3x3"},"3x3x3"),r.a.createElement("option",{value:"4x4x4"},"4x4x4"),r.a.createElement("option",{value:"5x5x5"},"5x5x5"),r.a.createElement("option",{value:"pyraminx"},"pyraminx"))),r.a.createElement("div",{className:"tool"},"Session Avg: ",u(function(){var t=e.solves.map((function(e){return e.result()}));return E(t)}()),"; Mean: ",u(function(){var t=e.solves.map((function(e){return e.result()}));return w(t)}())),r.a.createElement("div",{className:"tool"},"Current Mo3: ",u(function(t){if(e.solves.length>=t){var n=e.solves.map((function(e){return e.result()}));return n.splice(0,n.length-t),w(n)}return 0}(3)),r.a.createElement("br",null),"Current Avg5: ",u(t(5)),r.a.createElement("br",null),"Current Avg12: ",u(t(12))),r.a.createElement("div",{className:"tool"},r.a.createElement("button",{className:"opt-button",onClick:function(){window.confirm("Are you sure?")&&e.updateSolves([])}},"Clear Session"),r.a.createElement("button",{className:"opt-button",onClick:function(){var t="Lp.,Scramble,Solution,Time,Result\n",n=e.solves.map((function(e,n){if(e.marked){var a=" ";!e.dnf&&e.penalty&&(a="(+2)");var r=n+1+","+e.scramble+","+e.solution+","+u(e.time)+a+","+u(e.result())+"\n";return t+=r,e.result()}}));t+=",,,Average: ,"+u(E(n))+"\n";var a=document.createElement("a");a.href="data:text/csv;charset=utf-8,"+encodeURI(t),a.download="session.csv",a.click()}},"Export selected to csv")))},g=(n(17),function(e){var t=function(e){for(var t=new Array,n=0;n<u;n++){for(var a=new Array,r=0;r<u;r++)a.push(e);t.push(a)}return t},n=function(){return{U:t("white"),F:t("green"),D:t("yellow"),B:t("blue"),R:t("red"),L:t("orange")}},c=function(e){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=e[n].map((function(e){return e}));return t},o=Object(a.useState)(e.size),l=Object(s.a)(o,2),u=l[0],i=l[1],m=Object(a.useState)(n),f=Object(s.a)(m,2),v=f[0],d=f[1],h=function(e,n){for(var a=c(e),r=function(e){var n=t("x");a.forEach((function(e,t){e.forEach((function(e,a){n[a][u-1-t]=e}))})),a=c(n)},o=0;o<n;o++)r();return a},p=function(e,t,n,a){var r=function(e,t,n,a){for(var r={U:c(e.U),F:c(e.F),D:c(e.D),B:c(e.B),R:c(e.R),L:c(e.L)},o=0;o<a;o++)switch(t){case"U":for(var l=c(r.R),s=c(r.B),i=c(r.L),m=c(r.F),f=0;f<n;f++)r.F[f]=l[f],r.R[f]=s[f],r.B[f]=i[f],r.L[f]=m[f];break;case"D":for(var v=c(r.L),d=c(r.F),p=c(r.R),b=c(r.B),E=0;E<n;E++)r.F[u-1-E]=v[u-1-E],r.R[u-1-E]=d[u-1-E],r.B[u-1-E]=p[u-1-E],r.L[u-1-E]=b[u-1-E];break;case"R":for(var w=c(r.D),x=c(r.F),g=c(r.U),y=c(r.B),k=0;k<u;k++)for(var O=0;O<n;O++)r.F[k][u-1-O]=w[k][u-1-O],r.U[k][u-1-O]=x[k][u-1-O],r.B[k][O]=g[u-1-k][u-1-O],r.D[k][u-1-O]=y[u-1-k][O];break;case"L":for(var D=c(r.U),N=c(r.B),j=c(r.D),F=c(r.F),R=0;R<u;R++)for(var B=0;B<n;B++)r.F[R][B]=D[R][B],r.U[R][B]=N[u-1-R][u-1-B],r.B[u-1-R][u-1-B]=j[R][B],r.D[R][B]=F[R][B];break;case"F":for(var L=c(h(r.L,1)),U=c(h(r.U,1)),S=c(h(r.R,1)),C=c(h(r.D,1)),M=0;M<n;M++)for(var z=0;z<u;z++)r.U[u-1-M][z]=L[u-1-M][z],r.R[z][M]=U[z][M],r.D[M][z]=S[M][z],r.L[u-1-z][u-1-M]=C[u-1-z][u-1-M];break;case"B":for(var A=c(h(r.R,3)),T=c(h(r.D,3)),I=c(h(r.L,3)),J=c(h(r.U,3)),K=0;K<n;K++)for(var W=0;W<u;W++)r.U[K][W]=A[K][W],r.R[u-1-W][u-1-K]=T[u-1-W][u-1-K],r.D[u-1-K][W]=I[u-1-K][W],r.L[W][K]=J[W][K]}return r}(e,t,n,a);return r[t]=h(r[t],a),r},b=function(e){var t=n(),a=e.split(" ");a.pop(),a.forEach((function(e){var n=function(e){var t,n;return-1!==e.indexOf("w")?(t=e[e.indexOf("w")-1],n=isNaN(e[0])?2:e[0]):(t=e[0],n=1),[t,n,"'"===e[e.length-1]?3:"2"===e[e.length-1]?2:1]}(e);t=p(t,n[0],n[1],n[2])})),d(t)};return Object(a.useEffect)((function(){d(n())}),[u]),Object(a.useEffect)((function(){b(e.scramble)}),[e.scramble]),Object(a.useEffect)((function(){i(e.size)}),[e.size]),r.a.createElement("div",{className:"drawcube-container"},Object.keys(v).map((function(e){return r.a.createElement("div",{className:"layer layer-".concat(e),style:{gridTemplateColumns:"repeat(".concat(u,", 1fr)"),gridTemplateRows:"repeat(".concat(u,", 1fr)")}},v[e].map((function(e){return e.map((function(e){return r.a.createElement("div",{className:"tile",style:{backgroundColor:e}})}))})))})))});var y=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),u=Object(s.a)(o,2),i=u[0],m=u[1],v=Object(a.useState)("3x3x3"),h=Object(s.a)(v,2),E=h[0],w=h[1],y=Object(a.useState)("block"),k=Object(s.a)(y,2),O=k[0],D=k[1],N=Object(a.useState)("shown"),j=Object(s.a)(N,2),F=j[0],R=j[1];return Object(a.useEffect)((function(){m(p(E))}),[]),Object(a.useEffect)((function(){D("none"),"pyraminx"!=E&&setTimeout((function(){D("block")}),100)}),[E]),Object(a.useEffect)((function(){"block"===O&&m(p(E))}),[O]),r.a.createElement("div",{className:"App"},r.a.createElement("header",null,r.a.createElement(d,null)),r.a.createElement("main",null,r.a.createElement("div",{className:"main-content"},r.a.createElement("div",{className:"timer"},r.a.createElement(f,{addTime:function(e){var t={marked:!0,scramble:i,solution:"",time:e,penalty:!1,dnf:!1,result:function(){return this.dnf?"DNF":this.penalty?this.time+2e3:this.time}};c([].concat(Object(l.a)(n),[t])),m(p(E))}})),r.a.createElement("div",{className:"tools"},r.a.createElement(x,{cube:w,solves:n,updateSolves:c}))),r.a.createElement("div",{className:"scramble"},"scramble: ",i)),r.a.createElement("section",{className:"results-table"},r.a.createElement(b,{solves:n,updateSolves:c})),r.a.createElement("aside",{className:"draw-cube ".concat(F),style:{display:O}},r.a.createElement("div",{className:"show-cube",onClick:function(){R("shown"===F?"hidden":"shown")}},"shown"===F?">":"<"),r.a.createElement(g,{scramble:i,size:parseInt(E.split("x")[0])})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[6,1,2]]]);
//# sourceMappingURL=main.6f90dbe9.chunk.js.map